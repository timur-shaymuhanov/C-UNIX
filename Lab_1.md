# Лабораторная работа №1

###  UNIX знакомство: useradd, nano, chmod, docker, GIT, CI, CD

                                                                                       Выполнил студент:       Шаймуханов Тимур
                                                                                                         3 курс, z33434, 2023 г
---

## Цель

Познакомить студента с основами администрирования программных комплексов в ОС семейства UNIX, продемонстрировать особенности виртуализации и контейнеризации, продемонстрировать преимущества использования систем контроля версий (на примере GIT)

## Задача 1

1.1
В папке /USR/LOCAL/ создать 2 директории: folder_max, folder_min

Команды:
```console
sudo mkdir folder_max
sudo mkdir folder_min
```

Результат:
Cозданы папки folder_max и folder_min

1.2
Создать 2-х группы пользователей: group_max, group_min

Команды:

```console
sudo addgroup group_max
sudo addgroup group_min
```

Результат:

```console
(base) timurverycool@DESKTOP-E880T0K:~$ getent passwd {1000..60000}
timurverycool:x:1000:1000:,,,:/home/timurverycool:/bin/bash
user_max_1:x:1001:1003::/home/user_max_1:/bin/bash
user_min_1:x:1002:1004:,,,:/home/user_min_1:/bin/bash
```

1.3
Создать 2-х пользователей: user_max_1, user_min_1

Команды:

```console
sudo adduser user_max_1
sudo adduser user_min_1
```

Результат: созданы пользователи user_max_1 и user_min_1

Команды:

```console
sudo usermod -a -G group_max user_max_1
sudo usermod -a -G group_min user_min_1
```

Результат:

Пользователи user_max_1 и user_min_1 помещены в группы group_max и group_min соответственно

1.4

Для пользователей из группы *_max дать полный доступ на директории *_max
и *_min. Для пользователей группы *_min дать полный доступ только на директорию *_min

Команды:
sudo chown :group_max folder_max
sudo chown :group_max folder_min

Результат:
Группа group_max является владельцем папок folder_max и folder_min

Команды:
sudo setfacl -m g:group_max:rwx folder_max
sudo setfacl -m g:group_max:rwx folder_min
sudo setfacl -m g:group_min:rwx folder_min

Результат:
Группа *_max обладает полным доступом к папкам *_max и *_min, т.к. является владельцем. Группа *_min обладает правом на чтение и исполнение к папке *_max и обладает
полным доступом к папке *_min

1.5
Создать и исполнить (пользователем из той же категории) скрипт в директории
folder_max, который пишет текущую дату/время в файл output.log в текущей
директории

Команды:
vi script.sh - создание и открытие скрипта при помощи vim
chmod +x script.sh - разрешение на выполнение для скрипта

Скрипт:
#!/bin/sh
echo $(date -u) >> output.log

Команды:
./script.sh - выполнение скрипта, в файл output.log записываются (дополняются) текущие
дата и время

Результат:
В папке *_max создан скрипт, который пишет дату и время в output.log

1.6
Cоздать и исполнить (пользователем из той же категории) скрипт в директории
folder_max, который пишет текущую дату/время в файл output.log в директории
*_min

Команды аналогичны, только скрипт:

2
#!/bin/sh
echo $(date -u) >> ../folder_min/output.log

Результат:
Дата и время записываются (дополняются) в файл output.log в папке *_min

1.7
Исполнить (пользователем *_min) скрипт в директории folder_max, который пишет текущую дату/время в файл output.log в директории *_min

Команды:
./script_min.sh

Результат:
При выполнении скрипта отказано в доступе для создания output.log, который был создан
ранее из-за запуска скрипта пользователем user_max_1. Файл создаётся с правами 664, владелец – user_max_1. Если предварительно через chmod изменить права доступа файла на
777, то пользователь *_min сможет исполнить скрипт успешно.
1.8

Создать и исполнить (пользователем из той же категории) скрипт в директории
folder_min, который пишет текущую дату/время в файл output.log в директории
*_max

Скрипт:
#!/bin/sh
echo $(date -u) >> ../folder_min/output.log
Команды:
chmod +x script_max.sh - разрешение на запуск скрипта

Результат:
Исполнить скрипт не удалось, так как нет разрешения на создание output.log в папке *_max

1.9
Вывести перечень прав доступа у папок *_min/ *_max, а также у всего содержимого внутри

Команда (внутри папки local):
ls -l
Результат:
Рис. 1: Права папок max и min
3
Команда (внутри папки local):
ls -l folder_max
Результат:
Рис. 2: Права содержимого папки max
Команда (внутри папки local):
ls -l folder_min
Результат:
Рис. 3: Права содержимого папки min
                                                                
