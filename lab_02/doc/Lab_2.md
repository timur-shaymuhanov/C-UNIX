# Лабораторная работа №2

###  C++ BUILD / IF / LOOP, PYTHON

                                                                                  Выполнил студент:       Шаймуханов Тимур
                                                                                                    3 курс, z33434, 2023 г
---
## Цель 

Познакомить студента с принципами компиляции исходного кода. Составить
программу с использованием циклов, условий и функций. Сравнить быстродействие
между C++ и Python. Ознакомление с типами данных.

## Задания

### 1. [С++ EXPRESSION] Создать и скомпилировать программу на C++.

Результат сборки (компиляции) сохранять в папку build. Папку build сделать
игнорируемой для GIT. Программа должна получать на вход число – это
количество итераций для выполнения расчета. В рамках итерации выполнять
следующее вычисление: x^2 - x^2 + x*4 - x*5 + x + x. Вычисление выполнять в виде
отдельной от main функции, которая будет вызвана циклически из main.
Фиксировать время выполнения программы, затрачиваемое на расчет выражения
n раз (n задается в консоли перед вычислением). Предусмотреть дополнительный
цикл на повторную итерацию запуска программы вычислений. Если было введено
не число, то завершить выполнение программы.

```C++
#include <iostream> 
#include <cmath> 
#include <time.h> 
#include <stdlib.h>

using namespace std;

double func(const int &x, const int &n) {
    clock_t start = clock();
    for(int i = 0; i < n; ++i)
    {
        float res = pow(x, 2) - pow(x, 2) + x * 4 - x * 5 + x + x;
    }; 
    clock_t end = clock();
    double seconds = (double)(end - start) / CLOCKS_PER_SEC;
    printf("Время работы программы: %.5e с\n", seconds);
    return seconds;
}

int main()
{
    string flag = "y";
    while (flag == "y")
    {
        float x = rand() % 2+100;

        int n; 
        std::cout << "Введите число итераций:" << endl;
        std::cin >> n;

        if(!std::cin.good())
        {
            std::cout << "Ошибка: число итераций должно быть целым" << endl;
            return 0;
        }
        double res =  func(x, n);
        std::cout << "Запустить еще раз?: (y/n)" << endl;
        std::cin >> flag;
    }
}
```
### Результат

``` console
Введите число итераций:
10000000
Время работы программы: 3.70000e-01 с
Запустить еще раз?: (y/n)
y  
Введите число итераций:
str
Ошибка: число итераций должно быть целым
```

### 2.[PYTHON EXPRESSION] Создать и скомпилировать программу на Python 3.

Результат сборки (компиляции) сохранять в папку build. Папку build сделать
игнорируемой для GIT. Программа должна получать на вход число – это
количество итераций для выполнения расчета. В рамках итерации выполнять
следующее вычисление: x ^2- x ^2+ x * 4 - x * 5+ x + x . Вычисление выполнять в виде
отдельной от main функции, которая будет вызвана циклически из main.
Фиксировать время выполнения программы, затрачиваемое на расчет выражения
n раз (n задается в консоли перед вычислением). Предусмотреть дополнительный
цикл на повторную итерацию запуска программы вычислений. Если было введено
не число, то завершить выполнение программы.

```python
import numpy as np
import timeit as tm

#input_n = input("Введите число итераций: ")

x = np.random.random()
print('Значение переменной: ', x)

def f(x):
    return x**2 - x**2 + x*4 - x*5 + x + x

def time_measuring():
    try:
        print("Введите число итераций:", end=' ')
        n = int(input())
        print()
    except ValueError:
        print("Число итераций должно быть целым")
        return None
    time = tm.timeit(stmt = "f(x)", globals = globals(), number = n)
    return (n, time)

while True:
    n, time_res = time_measuring()
    if time_res == None:
        break
    else:
        print("Время выполнения", n, "итераций равно", time_res, "c")
        print()
        flag = input("Запустить еще раз? (y/n): ")
        print()
        if flag == "n":
            break
```
### Результат

```console
Значение переменной:  0.19918341733453682

Введите число итераций: 10000000

Время выполнения 10000000 итераций равно 4.3327834 c

Запустить еще раз? (y/n): y

Введите число итераций: str
Число итераций должно быть целым
```

## Вывод

C++ будучи компилируемым языком со статической типизацией работает существенно быстрее интерпретируемого Python с динамической типизацией.
